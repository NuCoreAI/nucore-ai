{
    "name": "Charging Control Based on Price and Range",
    "enabled": true,
    "parent": 0,
    "comment": "Control charging and pool based on driving range and price during specified time and days",
    "if": [
        {
            "weekly": {
                "days": "mon,thu",
                "from": {
                    "sunset": 300
                },
                "to": {
                    "sunrise": -600,
                    "day": 1
                }
            }
        },
        {
            "logicalOp": "and"
        },
        {
            "device": "n003_chargea5rf7219",
            "status": "GV4",
            "compOp": ">",
            "value": 100,
            "uom": 116,
            "precision": 0
        },
        {
            "logicalOp": "and"
        },
        {
            "device": "n001_oadr3ven",
            "status": "ST",
            "compOp": "<",
            "value": 50,
            "uom": 103,
            "precision": 4
        }
    ],
    "then": [
        {
            "device": "n003_chargea5rf7219",
            "command": "BATPERCENT",
            "parameters": [
                {
                    "id": "n/a",
                    "value": 1000,
                    "uom": 51,
                    "precision": 1
                }
            ]
        },
        {
            "device": "n003_chargea5rf7219",
            "command": "CHARGECTRL",
            "parameters": [
                {
                    "id": "n/a",
                    "value": 1,
                    "uom": 25,
                    "precision": 0
                }
            ]
        }
    ],
    "else": [
        {
            "device": "ZY003_1",
            "command": "DOF",
            "parameters": []
        },
        {
            "device": "n003_chargea5rf7219",
            "command": "BATPERCENT",
            "parameters": [
                {
                    "id": "n/a",
                    "value": 800,
                    "uom": 51,
                    "precision": 1
                }
            ]
        },
        {
            "device": "n003_chargea5rf7219",
            "command": "CHARGECTRL",
            "parameters": [
                {
                    "id": "n/a",
                    "value": 0,
                    "uom": 25,
                    "precision": 0
                }
            ]
        }
    ]
}